<div id="homePage" class="grid-container">

  <h3 id="leftTileHeader" class="centerText">Welcome to the <h3 id="leftMoonshineCafeColor">Moonshine Caf√©</h3></h3>

  <div id="spotlightHeaderBackground">
    <h3 id="spotlightHeaderText">In The Spotlight</h3>
  </div>

  <div id="spotlightOne" class="spotlightStyle" *ngIf="currentEvents[0]">
    <img *ngIf="currentEvents[0].bandImagePath" src="https://moonshinephotostest.s3.amazonaws.com/bandImages/{{currentEvents[0].bandImagePath}}" class="spotlightAlbumImage">
    <h5 *ngIf="currentEvents[0].bandLink; else spt1"><a href="{{currentEvents[0].bandLink}}" class="spotlightLink" target="_blank">{{currentEvents[0].bandName}}</a> : {{convertDate(currentEvents[0].eventStart)}} {{convertTime(currentEvents[0].eventStart)}} ${{currentEvents[0].ticketPrice}}</h5>
    <ng-template #spt1><h5>{{currentEvents[0].bandName}} : {{convertDate(currentEvents[0].eventStart)}} {{convertTime(currentEvents[0].eventStart)}} ${{currentEvents[0].ticketPrice}}</h5></ng-template>
    <p>{{currentEvents[0].description}}</p>
  </div>

  <div id="spotlightTwo" class="spotlightStyle" *ngIf="currentEvents[1]">
    <img *ngIf="currentEvents[1].bandImagePath" src="https://moonshinephotostest.s3.amazonaws.com/bandImages/{{currentEvents[1].bandImagePath}}" class="spotlightAlbumImage">
    <h5 *ngIf="currentEvents[1].bandLink; else spt2"><a href="{{currentEvents[1].bandLink}}" class="spotlightLink" target="_blank">{{currentEvents[1].bandName}}</a> : {{convertDate(currentEvents[1].eventStart)}} {{convertTime(currentEvents[1].eventStart)}} ${{currentEvents[1].ticketPrice}}</h5>
    <ng-template #spt2><h5>{{currentEvents[1].bandName}} : {{convertDate(currentEvents[1].eventStart)}} {{convertTime(currentEvents[1].eventStart)}} ${{currentEvents[1].ticketPrice}}</h5></ng-template>
    <p>{{currentEvents[1].description}}</p>
  </div>

  <div id="spotlightThree" class="spotlightStyle" *ngIf="currentEvents[2]">
    <img *ngIf="currentEvents[2].bandImagePath" src="https://moonshinephotostest.s3.amazonaws.com/bandImages/{{currentEvents[2].bandImagePath}}" class="spotlightAlbumImage">
    <h5 *ngIf="currentEvents[2].bandLink; else spt3"><a href="{{currentEvents[2].bandLink}}" class="spotlightLink" target="_blank">{{currentEvents[2].bandName}}</a> : {{convertDate(currentEvents[2].eventStart)}} {{convertTime(currentEvents[2].eventStart)}} ${{currentEvents[2].ticketPrice}}</h5>
    <ng-template #spt3><h5>{{currentEvents[2].bandName}} : {{convertDate(currentEvents[2].eventStart)}} {{convertTime(currentEvents[2].eventStart)}} ${{currentEvents[2].ticketPrice}}</h5></ng-template>
    <p>{{currentEvents[2].description}}</p>
  </div>

  <div id="spotlightFour" class="spotlightStyle" *ngIf="currentEvents[3]">
    <img *ngIf="currentEvents[3].bandImagePath" src="https://moonshinephotostest.s3.amazonaws.com/bandImages/{{currentEvents[3].bandImagePath}}" class="spotlightAlbumImage">
    <h5 *ngIf="currentEvents[3].bandLink; else spt4"><a href="{{currentEvents[3].bandLink}}" class="spotlightLink" target="_blank">{{currentEvents[3].bandName}}</a> : {{convertDate(currentEvents[3].eventStart)}} {{convertTime(currentEvents[3].eventStart)}} ${{currentEvents[3].ticketPrice}}</h5>
    <ng-template #spt4><h5>{{currentEvents[3].bandName}} : {{convertDate(currentEvents[3].eventStart)}} {{convertTime(currentEvents[3].eventStart)}} ${{currentEvents[3].ticketPrice}}</h5></ng-template>
    <p>{{currentEvents[3].description}}</p>
  </div>

  <div id="emailSubscription">
    <p id="emailText">
      Join Our Mailing List!
    </p>
      <input id="clientEmail" [(ngModel)]="clientEmail" name="clientEmail" type="text">
    <button id="joinButton" (click)="joinMailingList()" mat-raised-button>Join</button>
  </div>

  <div id="moonshineVideo" class="center">
    <iframe id="moonshineVideo" width="350" height="300" src="https://www.youtube.com/embed/pDOoidfERvQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
  </div>

  <div id="moonshineCalendar">
    <!--
    <iframe id="calendarSize" src="https://calendar.google.com/calendar/embed?height=400&amp;wkst=1&amp;bgcolor=%23ffffff&amp;ctz=America%2FToronto&amp;src=c2NodW5pY2RAZ21haWwuY29t&amp;src=YWRkcmVzc2Jvb2sjY29udGFjdHNAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&amp;src=ZW4uY2FuYWRpYW4jaG9saWRheUBncm91cC52LmNhbGVuZGFyLmdvb2dsZS5jb20&amp;src=dGhlbW9vbnNoaW5lY2FmZUBnbWFpbC5jb20&amp;color=%237986CB&amp;color=%233F51B5&amp;color=%23C0CA33&amp;color=%23E4C441&amp;mode=AGENDA&amp;showTitle=0" style="border:solid 1px #777" height="400" frameborder="0" scrolling="no"></iframe>
    -->

    <mat-accordion >
      <mat-expansion-panel hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h5 id="title">Future Events</h5>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <p>Don't see an event on the day you want to visit? <a href="mailto:moonshinecafe@cogeco.net?subject=My Own Show">Contact us</a> to book your own event!</p>
      </mat-expansion-panel>
      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false"
                           *ngFor = "let e of currentEvents">
        <mat-expansion-panel-header [collapsedHeight]="'120px'" [expandedHeight]="'120px'">
          <mat-panel-title>
            <p>{{convertDate(e.eventStart.split('T')[0])}} <br> {{convertTime(e.eventStart.split('T')[1])}} <br> <a *ngIf="e.bandLink; else plainName" href="{{e.bandLink}}" target="_blank">{{e.bandName}}</a></p>
            <ng-template #plainName>{{e.bandName}}</ng-template>
          </mat-panel-title>
          <mat-panel-description>
            <p id="description"><br>${{e.ticketPrice}} / ticket</p>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p>{{e.description}}</p>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
<br>

<br>
